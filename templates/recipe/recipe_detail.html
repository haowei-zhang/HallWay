<!-- recipe_detail.html -->
<!-- from recipe.views.RecipeDetailView -->
{% extends "nav.html" %}

{% load static from staticfiles %}
{% load url from future %}

{% block csslink %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static "css/recipe/recipe_detail.css" %}"/>
{% endblock %}

{% block title %}
	{{ object.name }}_{{ object.author }}(上厨娘)
{% endblock %}

{% block content %}
	<section id="mod-main">
	    <h1 class="mod-page-title" itemprop="dish-name">{{ object.name }}</h1>
        <div class="mod-recipe-img">
            <img src="/media/{{ object.cover_image }}" alt="" />
        </div>
        <div class="mod-recipe-stat">
            <span class="mod-recipe-count">
                {{ object.did_num }} did this. | 
            	{{ object.like_num }} liked this. | 
            	{{ object.view_num }} viewed this.
            </span>
            <span class="mod-recipe-like">
                <a href="#i-like-it">I like it!</a>
            </span>
        </div>
        <div class="mod-recipe-share">
            <span class="mod-recipe-upload">
                <a href="#upload-own">Upload your own recipe for this dish?</a>
            </span>
        </div>
        <!--li><a href="/accounts/{{ object.author }}">{{ object.author }}</a></li-->
        <!--div>{{ object.date }}</div-->
        <!--div>{{ object.category }}</div-->
        <div class="mod-recipe-brief">
            <h2 class="mod-recipe-title-h2">Brief Introduction</h2>
            <p class="mod-recipe-brief-content">
                {{ object.brief }}
            </p>
        </div>
        <div class="mod-recipe-tip">
            <h2 class="mod-recipe-title-h2">Chef's Tip</h2>
            <p class="mod-recipe-tip-content">
                {{ object.tips }}
            </p>
        </div>
        <div class="mod-reicpe-ingredients">
            <h2 class="mod-recipe-title-h2">
                Ingredients
            </h2>
        	{% for ingredient in object.amount_set.all %}
                {% if ingredient.must %}
            		<li>{{ ingredient.ingredient }}: {{ ingredient.amount }} yeah!</li>
                {% else %}
                    <li>{{ ingredient.ingredient }}: {{ ingredient.amount }} no!</li>
                {% endif %}
        	{% endfor %}
        </div>
	</section>
    <aside class="mod-side">
    </aside>
{% endblock %}

{% block js %}
    <script type="text/javascript">
        var j = jQuery.noConflict();
    </script>
    <script type="text/javascript" src="{% static "js/recipe/recipe_detail.js" %}"></script>
{% endblock js %}